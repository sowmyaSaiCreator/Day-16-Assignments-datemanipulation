<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title> Day -16 Task 2 Date Manipulation</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css"
    integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous" />

<body>
  <!-- <div class="row">
    <div class="bg-primary col-12 m-3">
      <h3 class="text-center">Date Manipulation</h3>
    </div>
    <div class="col-5 offset-4 p-3">
      <label for="DOB">Enter your DOB</label>
      <input type="date" id="DOB" name="DOB" class="form-control mb-3" value="1992-05-21">
      <button class="btn btn-danger" id="dateManipulation">
        Get your Days,Months,Years,Minutes,Seconds,Milliseconds
      </button>
      <div id="resultDiv">
        <div class="col-4 offset-4 mt-3 bg-success text-light" id="days"></div>
        <div class="col-4 offset-4 mt-3 bg-success text-light" id="months"></div>
        <div class="col-4 offset-4 mt-3 bg-success text-light" id="years"></div>
        <div class="col-4 offset-4 mt-3 bg-success text-light" id="hrs"></div>
        <div class="col-4 offset-4 mt-3 bg-success text-light" id="mins"></div>
        <div class="col-4 offset-4 mt-3 bg-success text-light" id="secs"></div>
        <div class="col-4 offset-4 mt-3 bg-success text-light" id="Milliseconds"></div>
      </div>
    </div>
  </div> -->

  <script>
    domManipulation();
    var button = document.getElementById("dateManipulation");


    button.addEventListener("click", dateManipulate);

    function dateManipulate() {

      var date = document.getElementById("DOB").value;
      var date1 = new Date(date);
      var date2 = new Date();


      //calculate total number of seconds between two dates  
      var totSecs = Math.abs(date2 - date1) / 1000;

      //calculate total number of milliseconds between two dates  
      var totMilliSecs = Math.abs(totSecs * 1000);

      //calculate days difference by dividing total seconds in a day  
      var totDays = Math.abs(totSecs / (60 * 60 * 24));

      var totMins = Math.abs(totSecs / 60);


      var totHrs = totMins / 60;

      var monthsDiff;
      var totMons;
      monthsDiff = (date2.getFullYear() - date1.getFullYear()) * 12;
      monthsDiff -= date1.getMonth();
      monthsDiff += date2.getMonth();
      totMons = monthsDiff <= 0 ? 0 : monthsDiff;



      var days = document.getElementById("days");
      var months = document.getElementById("months");
      var years = document.getElementById("years");
      var hrs = document.getElementById("hrs");
      var mins = document.getElementById("mins");
      var secs = document.getElementById("secs");
      var Milliseconds = document.getElementById("Milliseconds");


      var dateArr = date.split("-");
      var year = dateArr[0];
      var month = dateArr[1];
      var day = dateArr[2];

      var currentDate = date2.getDate();
      var currentYear = date2.getFullYear();
      var currentMonth = date2.getMonth() + 1;



      days.innerText = totDays + " Days";
      hrs.innerText = totHrs + " Hrs";
      mins.innerText = totMins + " Mins";
      secs.innerText = totSecs + " secs";
      Milliseconds.innerText = totMilliSecs + " Milliseconds";
      months.innerText = totMons + " Months";

      checkNegative(currentMonth - month, currentYear - year)

    }
    function checkNegative(val, val1) {
      var age;
      if (val < 0) {
        age = val1 - 1;
      }
      else {
        age = val1;
      }
      years.innerText = age + " Years";

    }

    function domManipulation() {
      var container = document.createElement("div");
      container.setAttribute("class", "container-fluid");

      var rowDiv = document.createElement("div");
      rowDiv.setAttribute("class", "row");

      var headerDiv = document.createElement("div");
      headerDiv.setAttribute("class", "bg-primary col-12 m-3");

      var h3 = document.createElement("h3");
      h3.setAttribute("class", "text-center");
      h3.innerText = "Date Manipulation";
      headerDiv.append(h3);

      var colDiv = document.createElement("div");
      colDiv.setAttribute("class", "col-5 offset-4 p-3");

      var label = document.createElement("label");
      label.setAttribute("for", "DOB");
      label.innerText = "Enter your DOB";

      var input = document.createElement("input");
      input.setAttribute("type", "date");
      input.setAttribute("name", "DOB");
      input.setAttribute("id", "DOB");
      input.setAttribute("value", "1992-05-21");
      input.setAttribute("class", "form-control mb-3");

      var button = document.createElement("button");
      button.setAttribute("class", "btn btn-danger");
      button.setAttribute("id", "dateManipulation");
      button.innerText = "Get your Days,Months,Years,Minutes,Seconds,Milliseconds";

      var resultDiv = document.createElement("div");

      var resultDiv1 = document.createElement("div");
      resultDiv1.setAttribute("class", "col-5 offset-4 mt-3 bg-success text-light");
      resultDiv1.setAttribute("id", "days");

      var resultDiv2 = document.createElement("div");
      resultDiv2.setAttribute("class", "col-5 offset-4 mt-3 bg-success text-light");
      resultDiv2.setAttribute("id", "months");

      var resultDiv3 = document.createElement("div");
      resultDiv3.setAttribute("class", "col-5 offset-4 mt-3 bg-success text-light");
      resultDiv3.setAttribute("id", "years");

      var resultDiv4 = document.createElement("div");
      resultDiv4.setAttribute("class", "col-5 offset-4 mt-3 bg-success text-light");
      resultDiv4.setAttribute("id", "hrs");

      var resultDiv5 = document.createElement("div");
      resultDiv5.setAttribute("class", "col-5 offset-4 mt-3 bg-success text-light");
      resultDiv5.setAttribute("id", "mins");

      var resultDiv6 = document.createElement("div");
      resultDiv6.setAttribute("class", "col-5 offset-4 mt-3 bg-success text-light");
      resultDiv6.setAttribute("id", "secs");

      var resultDiv7 = document.createElement("div");
      resultDiv7.setAttribute("class", "col-5 offset-4 mt-3 bg-success text-light");
      resultDiv7.setAttribute("id", "Milliseconds");

      resultDiv.append(resultDiv1, resultDiv2, resultDiv3, resultDiv4, resultDiv5, resultDiv6, resultDiv7);

      colDiv.append(label, input, button, resultDiv, rowDiv);

      container.append(headerDiv, colDiv);
      document.body.append(container);
    }
  </script>
</body>

</html>